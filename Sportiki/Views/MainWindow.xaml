<Window x:Class="SportsApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Sportiki"
        xmlns:models="clr-namespace:Sportiki.DB"
        xmlns:conv="clr-namespace:Sportiki.Converters"
        mc:Ignorable="d"
        Title="Управление тренировками" Height="600" Width="600">
    <Grid>
        <TabControl>
            <TabItem Header="Спортсмены">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <DataGrid x:Name="AthletesGrid" Grid.Row="0" Margin="10"
                              ItemsSource="{Binding Athletes}" AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="100"/>
                            <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="100"/>
                            <DataGridTextColumn Header="Дата рождения" Binding="{Binding Birthday, StringFormat=\{0:dd.MM.yyyy\}}" Width="100"/>
                            <DataGridTextColumn Header="Категория" Binding="{Binding Category.Category1}" Width="100"/>
                            <DataGridTextColumn Header="Уровень" Binding="{Binding Level.Level1}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10">
                        <Button Content="Добавить спортсмена" Click="AddAthlete_Click" Width="140" Margin="5"/>
                        <Button Content="Удалить профиль спортсмена" Click="DeleteSport_Click" Width="180" Margin="5"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <TabItem Header="Тренировки">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <DataGrid x:Name="TrainingsGrid" ItemsSource="{Binding Trainings}" Grid.Row="0" Margin="10"
                             AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Title}" Width="100"/>
                            <DataGridTextColumn Header="Дата и время" Binding="{Binding DateTime}" Width="120"/>
                            <DataGridTextColumn Header="Длительность" Binding="{Binding Duration}" Width="80"/>
                            <DataGridTextColumn Header="Тип" Binding="{Binding Type}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10">
                        <Button Content="Добавить тренировку" Click="AddTraining_Click" Width="120" Margin="5"/>
                        <Button Content="Удалить тренировку" Click="DeleteTraining_Click" Width="120" Margin="5"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <TabItem Header="Участие">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <DataGrid x:Name="ParticipationsGrid" Grid.Row="0" Margin="10"
                             AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Спортсмен" Binding="{Binding Athlete.FullName}" Width="120"/>
                            <DataGridTextColumn Header="Тренировка" Binding="{Binding Training.Title}" Width="100"/>
                            <DataGridTextColumn Header="Оценка" Binding="{Binding Grade}" Width="60"/>
                            <DataGridTextColumn Header="Комментарий" Binding="{Binding Comment}" Width="200"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10">
                        <Button Content="Записать на тренировку" Click="AddParticipation_Click" Width="150" Margin="5"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>